{"ast":null,"code":"import _defineProperty from\"/home/miki/Documents/Programming/redux-toolkit-movie-rating-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/miki/Documents/Programming/redux-toolkit-movie-rating-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/miki/Documents/Programming/redux-toolkit-movie-rating-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/miki/Documents/Programming/redux-toolkit-movie-rating-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;// import createSlice, createAsyncThunk\n// thunk is there for asynchronous tasks\nimport{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import MovieApi from\"../../common/api/MovieApi\";import{APIKey}from\"../../common/api/MovieApiKey\";// the thunk takes two arguments - name (string) and a payload-creator callback function\n// the name is usually a combo of the reducer's name and the name of the variable the thunk is assigned to\n// the callback function, in this case, is the movie fetch function\n// optionally, the thunk can take a third argument - an object\nexport var fetchAsyncMovies=createAsyncThunk(\"movies/fetchAsyncMovies\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(term){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return MovieApi.get(\"?apiKey=\".concat(APIKey,\"&s=\").concat(term,\"&type=movie\"));case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var fetchAsyncShows=createAsyncThunk(\"movies/fetchAsyncShows\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(term){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return MovieApi.get(\"?apiKey=\".concat(APIKey,\"&s=\").concat(term,\"&type=series\"));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var fetchAsyncMovieOrShowDetail=createAsyncThunk(\"movies/fetchAsyncMovieOrShowDetail\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return MovieApi.get(\"?apiKey=\".concat(APIKey,\"&i=\").concat(id,\"&Plot=full\"));case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());// initial state\nvar initialState={movies:{},shows:{},selectMovieOrShow:{}};// create the movies slice\nvar movieSlice=createSlice({// name of the slice\nname:\"movies\",// initial state\ninitialState:initialState,// reducers/actions object\nreducers:{removeSelectMovieOrShow:function removeSelectMovieOrShow(state){state.selectMovieOrShow={};}},// extra reducers handle work outside the component\nextraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchAsyncMovies.pending,function(){console.log(\"pending\");}),_defineProperty(_extraReducers,fetchAsyncMovies.fulfilled,function(state,_ref4){var payload=_ref4.payload;console.log(\"fetched successflly\");return _objectSpread(_objectSpread({},state),{},{movies:payload});}),_defineProperty(_extraReducers,fetchAsyncMovies.rejected,function(){console.log(\"rejected\");}),_defineProperty(_extraReducers,fetchAsyncShows.fulfilled,function(state,_ref5){var payload=_ref5.payload;console.log(\"shows fetched successflly\");return _objectSpread(_objectSpread({},state),{},{shows:payload});}),_defineProperty(_extraReducers,fetchAsyncMovieOrShowDetail.fulfilled,function(state,_ref6){var payload=_ref6.payload;console.log(\"Fetched Successfully!\");return _objectSpread(_objectSpread({},state),{},{selectMovieOrShow:payload});}),_extraReducers)});var removeSelectMovieOrShow=movieSlice.actions.removeSelectMovieOrShow;// funcs to get all the movies and shows in the state\nexport{removeSelectMovieOrShow};export var getAllMovies=function getAllMovies(state){return state.movies.movies;};export var getAllShows=function getAllShows(state){return state.movies.shows;};// func to get the selected movie or show details\nexport var getSelectMovieOrShow=function getSelectMovieOrShow(state){return state.movies.selectMovieOrShow;};export default movieSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","MovieApi","APIKey","fetchAsyncMovies","term","get","response","data","fetchAsyncShows","fetchAsyncMovieOrShowDetail","id","initialState","movies","shows","selectMovieOrShow","movieSlice","name","reducers","removeSelectMovieOrShow","state","extraReducers","pending","console","log","fulfilled","payload","rejected","actions","getAllMovies","getAllShows","getSelectMovieOrShow","reducer"],"sources":["/home/miki/Documents/Programming/redux-toolkit-movie-rating-app/src/features/movies/movieSlice.js"],"sourcesContent":["// import createSlice, createAsyncThunk\n// thunk is there for asynchronous tasks\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport MovieApi from \"../../common/api/MovieApi\";\nimport { APIKey } from \"../../common/api/MovieApiKey\";\n\n// the thunk takes two arguments - name (string) and a payload-creator callback function\n// the name is usually a combo of the reducer's name and the name of the variable the thunk is assigned to\n// the callback function, in this case, is the movie fetch function\n// optionally, the thunk can take a third argument - an object\n\nexport const fetchAsyncMovies = createAsyncThunk(\n    \"movies/fetchAsyncMovies\",\n\n    async (term) => {\n        const response = await MovieApi.get(\n            `?apiKey=${APIKey}&s=${term}&type=movie`\n        );\n        return response.data;\n    }\n);\n\nexport const fetchAsyncShows = createAsyncThunk(\n    \"movies/fetchAsyncShows\",\n\n    async (term) => {\n        const response = await MovieApi.get(\n            `?apiKey=${APIKey}&s=${term}&type=series`\n        );\n        return response.data;\n    }\n);\n\nexport const fetchAsyncMovieOrShowDetail = createAsyncThunk(\n    \"movies/fetchAsyncMovieOrShowDetail\",\n    async (id) => {\n        const response = await MovieApi.get(\n            `?apiKey=${APIKey}&i=${id}&Plot=full`\n        );\n        return response.data;\n    }\n);\n\n// initial state\nconst initialState = {\n    movies: {},\n    shows: {},\n    selectMovieOrShow: {},\n};\n\n// create the movies slice\nconst movieSlice = createSlice({\n    // name of the slice\n    name: \"movies\",\n    // initial state\n    initialState,\n    // reducers/actions object\n    reducers: {\n        removeSelectMovieOrShow: (state) => {\n            state.selectMovieOrShow = {};\n        },\n    },\n    // extra reducers handle work outside the component\n    extraReducers: {\n        // extra reducers for all movies\n        [fetchAsyncMovies.pending]: () => {\n            console.log(\"pending\");\n        },\n        [fetchAsyncMovies.fulfilled]: (state, { payload }) => {\n            console.log(\"fetched successflly\");\n            return { ...state, movies: payload };\n        },\n        [fetchAsyncMovies.rejected]: () => {\n            console.log(\"rejected\");\n        },\n        // extra reducers for all shows\n        [fetchAsyncShows.fulfilled]: (state, { payload }) => {\n            console.log(\"shows fetched successflly\");\n            return { ...state, shows: payload };\n        },\n        // extra reducers for single movie or show\n        [fetchAsyncMovieOrShowDetail.fulfilled]: (state, { payload }) => {\n            console.log(\"Fetched Successfully!\");\n            return { ...state, selectMovieOrShow: payload };\n        },\n    },\n});\n\nexport const { removeSelectMovieOrShow } = movieSlice.actions;\n\n// funcs to get all the movies and shows in the state\nexport const getAllMovies = (state) => state.movies.movies;\nexport const getAllShows = (state) => state.movies.shows;\n// func to get the selected movie or show details\nexport const getSelectMovieOrShow = (state) => state.movies.selectMovieOrShow;\n\nexport default movieSlice.reducer;\n"],"mappings":"wnBAAA;AACA;AACA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,SAAP,KAAqB,2BAArB,CACA,OAASC,MAAT,KAAuB,8BAAvB,CAEA;AACA;AACA;AACA;AAEA,MAAO,IAAMC,iBAAgB,CAAGH,gBAAgB,CAC5C,yBAD4C,4FAG5C,iBAAOI,IAAP,uJAC2BH,SAAQ,CAACI,GAAT,mBACRH,MADQ,eACIE,IADJ,gBAD3B,QACUE,QADV,+CAIWA,QAAQ,CAACC,IAJpB,wDAH4C,+DAAzC,CAWP,MAAO,IAAMC,gBAAe,CAAGR,gBAAgB,CAC3C,wBAD2C,6FAG3C,kBAAOI,IAAP,4JAC2BH,SAAQ,CAACI,GAAT,mBACRH,MADQ,eACIE,IADJ,iBAD3B,QACUE,QADV,iDAIWA,QAAQ,CAACC,IAJpB,0DAH2C,iEAAxC,CAWP,MAAO,IAAME,4BAA2B,CAAGT,gBAAgB,CACvD,oCADuD,6FAEvD,kBAAOU,EAAP,4JAC2BT,SAAQ,CAACI,GAAT,mBACRH,MADQ,eACIQ,EADJ,eAD3B,QACUJ,QADV,iDAIWA,QAAQ,CAACC,IAJpB,0DAFuD,iEAApD,CAUP;AACA,GAAMI,aAAY,CAAG,CACjBC,MAAM,CAAE,EADS,CAEjBC,KAAK,CAAE,EAFU,CAGjBC,iBAAiB,CAAE,EAHF,CAArB,CAMA;AACA,GAAMC,WAAU,CAAGhB,WAAW,CAAC,CAC3B;AACAiB,IAAI,CAAE,QAFqB,CAG3B;AACAL,YAAY,CAAZA,YAJ2B,CAK3B;AACAM,QAAQ,CAAE,CACNC,uBAAuB,CAAE,iCAACC,KAAD,CAAW,CAChCA,KAAK,CAACL,iBAAN,CAA0B,EAA1B,CACH,CAHK,CANiB,CAW3B;AACAM,aAAa,mDAERjB,gBAAgB,CAACkB,OAFT,CAEmB,UAAM,CAC9BC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACH,CAJQ,iCAKRpB,gBAAgB,CAACqB,SALT,CAKqB,SAACL,KAAD,OAAwB,IAAdM,QAAc,OAAdA,OAAc,CAClDH,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACA,sCAAYJ,KAAZ,MAAmBP,MAAM,CAAEa,OAA3B,GACH,CARQ,iCASRtB,gBAAgB,CAACuB,QATT,CASoB,UAAM,CAC/BJ,OAAO,CAACC,GAAR,CAAY,UAAZ,EACH,CAXQ,iCAaRf,eAAe,CAACgB,SAbR,CAaoB,SAACL,KAAD,OAAwB,IAAdM,QAAc,OAAdA,OAAc,CACjDH,OAAO,CAACC,GAAR,CAAY,2BAAZ,EACA,sCAAYJ,KAAZ,MAAmBN,KAAK,CAAEY,OAA1B,GACH,CAhBQ,iCAkBRhB,2BAA2B,CAACe,SAlBpB,CAkBgC,SAACL,KAAD,OAAwB,IAAdM,QAAc,OAAdA,OAAc,CAC7DH,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACA,sCAAYJ,KAAZ,MAAmBL,iBAAiB,CAAEW,OAAtC,GACH,CArBQ,iBAZc,CAAD,CAA9B,CAqCO,GAAQP,wBAAR,CAAoCH,UAAU,CAACY,OAA/C,CAAQT,uBAAR,CAEP;gCACA,MAAO,IAAMU,aAAY,CAAG,QAAfA,aAAe,CAACT,KAAD,QAAWA,MAAK,CAACP,MAAN,CAAaA,MAAxB,EAArB,CACP,MAAO,IAAMiB,YAAW,CAAG,QAAdA,YAAc,CAACV,KAAD,QAAWA,MAAK,CAACP,MAAN,CAAaC,KAAxB,EAApB,CACP;AACA,MAAO,IAAMiB,qBAAoB,CAAG,QAAvBA,qBAAuB,CAACX,KAAD,QAAWA,MAAK,CAACP,MAAN,CAAaE,iBAAxB,EAA7B,CAEP,cAAeC,WAAU,CAACgB,OAA1B"},"metadata":{},"sourceType":"module"}