{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import{useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{fetchAsyncMovieOrShowDetail,getSelectMovieOrShow,removeSelectMovieOrShow}from\"../../features/movies/movieSlice\";import\"./MovieDetail.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MovieDetail=function MovieDetail(){var _useParams=useParams(),imdbID=_useParams.imdbID;console.log(imdbID);var dispatch=useDispatch();// useSelector for the movie or show\nvar data=useSelector(getSelectMovieOrShow);// useRef to deal with rerendering in React 18\nvar fetchRef=useRef(true);useEffect(function(){if(fetchRef.current){fetchRef.current=false;dispatch(fetchAsyncMovieOrShowDetail(imdbID));}return function(){dispatch(removeSelectMovieOrShow(imdbID));};},[dispatch,imdbID]);console.log(data);return/*#__PURE__*/_jsx(\"div\",{className:\"movie-section\",children:Object.keys(data).length===0?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"movie-title\",children:data.Title}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-rating\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"IMDB Rating \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"}),\" :\",\" \",data.imdbRating]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"IMDB Votes \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-thumbs-up\"}),\" :\",\" \",data.imdbVotes]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Runtime \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-film\"}),\" :\",\" \",data.imdbRuntime]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Year \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-calendar\"}),\" :\",\" \",data.Year]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-plot\",children:data.Plot}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Director\"}),/*#__PURE__*/_jsx(\"span\",{children:data.Director})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Stars\"}),/*#__PURE__*/_jsx(\"span\",{children:data.Actors})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Genre\"}),/*#__PURE__*/_jsx(\"span\",{children:data.Genre})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Languages\"}),/*#__PURE__*/_jsx(\"span\",{children:data.Language})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Awards\"}),/*#__PURE__*/_jsx(\"span\",{children:data.Awards})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-right\",children:/*#__PURE__*/_jsx(\"img\",{src:data.Poster,alt:data.Title})})]})});};export default MovieDetail;","map":{"version":3,"names":["React","useEffect","useRef","useParams","useDispatch","useSelector","fetchAsyncMovieOrShowDetail","getSelectMovieOrShow","removeSelectMovieOrShow","MovieDetail","imdbID","console","log","dispatch","data","fetchRef","current","Object","keys","length","Title","imdbRating","imdbVotes","imdbRuntime","Year","Plot","Director","Actors","Genre","Language","Awards","Poster"],"sources":["/home/miki/Documents/Programming/redux-toolkit-movie-rating-app/src/components/MovieDetail/MovieDetail.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    fetchAsyncMovieOrShowDetail,\n    getSelectMovieOrShow,\n    removeSelectMovieOrShow,\n} from \"../../features/movies/movieSlice\";\nimport \"./MovieDetail.scss\";\n\nconst MovieDetail = () => {\n    const { imdbID } = useParams();\n    console.log(imdbID);\n    const dispatch = useDispatch();\n\n    // useSelector for the movie or show\n    const data = useSelector(getSelectMovieOrShow);\n\n    // useRef to deal with rerendering in React 18\n    let fetchRef = useRef(true);\n\n    useEffect(() => {\n        if (fetchRef.current) {\n            fetchRef.current = false;\n            dispatch(fetchAsyncMovieOrShowDetail(imdbID));\n        }\n\n        return () => {\n            dispatch(removeSelectMovieOrShow(imdbID));\n        };\n    }, [dispatch, imdbID]);\n\n    console.log(data);\n\n    return (\n        <div className=\"movie-section\">\n            {Object.keys(data).length === 0 ? (\n                <div>Loading...</div>\n            ) : (\n                <>\n                    <div className=\"section-left\">\n                        <div className=\"movie-title\">{data.Title}</div>\n                        <div className=\"movie-rating\">\n                            <span>\n                                IMDB Rating <i className=\"fa fa-star\"></i> :{\" \"}\n                                {data.imdbRating}\n                            </span>\n                            <span>\n                                IMDB Votes <i className=\"fa fa-thumbs-up\"></i> :{\" \"}\n                                {data.imdbVotes}\n                            </span>\n                            <span>\n                                Runtime <i className=\"fa fa-film\"></i> :{\" \"}\n                                {data.imdbRuntime}\n                            </span>\n                            <span>\n                                Year <i className=\"fa fa-calendar\"></i> :{\" \"}\n                                {data.Year}\n                            </span>\n                        </div>\n                        <div className=\"movie-plot\">{data.Plot}</div>\n                        <div className=\"movie-info\">\n                            <div>\n                                <span>Director</span>\n                                <span>{data.Director}</span>\n                            </div>\n                            <div>\n                                <span>Stars</span>\n                                <span>{data.Actors}</span>\n                            </div>\n                            <div>\n                                <span>Genre</span>\n                                <span>{data.Genre}</span>\n                            </div>\n                            <div>\n                                <span>Languages</span>\n                                <span>{data.Language}</span>\n                            </div>\n                            <div>\n                                <span>Awards</span>\n                                <span>{data.Awards}</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"section-right\">\n                        <img src={data.Poster} alt={data.Title} />\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default MovieDetail;\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OACIC,2BADJ,CAEIC,oBAFJ,CAGIC,uBAHJ,KAIO,kCAJP,CAKA,MAAO,oBAAP,C,6IAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtB,eAAmBN,SAAS,EAA5B,CAAQO,MAAR,YAAQA,MAAR,CACAC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,GAAMG,SAAQ,CAAGT,WAAW,EAA5B,CAEA;AACA,GAAMU,KAAI,CAAGT,WAAW,CAACE,oBAAD,CAAxB,CAEA;AACA,GAAIQ,SAAQ,CAAGb,MAAM,CAAC,IAAD,CAArB,CAEAD,SAAS,CAAC,UAAM,CACZ,GAAIc,QAAQ,CAACC,OAAb,CAAsB,CAClBD,QAAQ,CAACC,OAAT,CAAmB,KAAnB,CACAH,QAAQ,CAACP,2BAA2B,CAACI,MAAD,CAA5B,CAAR,CACH,CAED,MAAO,WAAM,CACTG,QAAQ,CAACL,uBAAuB,CAACE,MAAD,CAAxB,CAAR,CACH,CAFD,CAGH,CATQ,CASN,CAACG,QAAD,CAAWH,MAAX,CATM,CAAT,CAWAC,OAAO,CAACC,GAAR,CAAYE,IAAZ,EAEA,mBACI,YAAK,SAAS,CAAC,eAAf,UACKG,MAAM,CAACC,IAAP,CAAYJ,IAAZ,EAAkBK,MAAlB,GAA6B,CAA7B,cACG,mCADH,cAGG,wCACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,SAAS,CAAC,aAAf,UAA8BL,IAAI,CAACM,KAAnC,EADJ,cAEI,aAAK,SAAS,CAAC,cAAf,wBACI,oDACgB,UAAG,SAAS,CAAC,YAAb,EADhB,MACiD,GADjD,CAEKN,IAAI,CAACO,UAFV,GADJ,cAKI,mDACe,UAAG,SAAS,CAAC,iBAAb,EADf,MACqD,GADrD,CAEKP,IAAI,CAACQ,SAFV,GALJ,cASI,gDACY,UAAG,SAAS,CAAC,YAAb,EADZ,MAC6C,GAD7C,CAEKR,IAAI,CAACS,WAFV,GATJ,cAaI,6CACS,UAAG,SAAS,CAAC,gBAAb,EADT,MAC8C,GAD9C,CAEKT,IAAI,CAACU,IAFV,GAbJ,GAFJ,cAoBI,YAAK,SAAS,CAAC,YAAf,UAA6BV,IAAI,CAACW,IAAlC,EApBJ,cAqBI,aAAK,SAAS,CAAC,YAAf,wBACI,oCACI,kCADJ,cAEI,sBAAOX,IAAI,CAACY,QAAZ,EAFJ,GADJ,cAKI,oCACI,+BADJ,cAEI,sBAAOZ,IAAI,CAACa,MAAZ,EAFJ,GALJ,cASI,oCACI,+BADJ,cAEI,sBAAOb,IAAI,CAACc,KAAZ,EAFJ,GATJ,cAaI,oCACI,mCADJ,cAEI,sBAAOd,IAAI,CAACe,QAAZ,EAFJ,GAbJ,cAiBI,oCACI,gCADJ,cAEI,sBAAOf,IAAI,CAACgB,MAAZ,EAFJ,GAjBJ,GArBJ,GADJ,cA6CI,YAAK,SAAS,CAAC,eAAf,uBACI,YAAK,GAAG,CAAEhB,IAAI,CAACiB,MAAf,CAAuB,GAAG,CAAEjB,IAAI,CAACM,KAAjC,EADJ,EA7CJ,GAJR,EADJ,CAyDH,CAjFD,CAmFA,cAAeX,YAAf"},"metadata":{},"sourceType":"module"}